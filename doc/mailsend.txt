https://github.com/muquit/mailsend


Limitations
-----------

- For text or html attachments, \r\n is not added at the end of lines. 
  Some SMTP servers (e.g. qmail) does not like that. It will be fixed in 
  some future release 

- For non ascii characters, MIME headers are not converted as per RFC2047

- In Windows, non ascii characters can not be entered in subject or with 
  -M from command line (works fine in Linux and Mac). mailsend uses 
  standard C string functions and Windows versions do not know about 
  multibyte input from command line (Issue# 14). If anyone is familiar 
  with it, you are welcome to implement the support, unfortunately I do 
  not have time at this time 


Usage
-----

The options with asterisk must be specified. Environment variable 
SMTP_USER_PASS can be used to set the SMTP authentication password 
instead of the option -pass 
  
mailsend v1.18
Copyright: BSD. It is illegal to use this software for Spamming
(Compiled with OpenSSL version: OpenSSL 1.0.2c 12 Jun 2015)
 
mailsend [options]:
  -copyright		     - show copyright information
  -4			         - Force to use IPv4 address of SMTP server
  -6			         - Force to use IPv6 address of SMTP server
  -smtp hostname/IP*	 - Hostname/IP address of the SMTP server
  -port SMTP port	     - SMTP port
  -domain    domain	     - domain name for SMTP HELO/EHLO
  -t	to,to..*	     - email address/es of the recipient/s
  -cc	cc,cc.. 	     - carbon copy address/es
  +cc			         - do not ask for Carbon Copy
  -ct	seconds 	     - Connect timeout. Default is 5 seconds
  -read-timeout seconds  - Read timeout. Default is 5 seconds
  -bc	bcc,bcc..	     - blind carbon copy address/es
  +bc			         - do not ask for Blind carbon copy
  +D			         - do not add Date header
  -f	address*	     - email address of the sender
  -sub	subject 	     - subject
  -list_address file	 - a file containing a list of email addresses
  -log file		         - write log messages to this file
  -cs	character set	 - for text/plain attachments (default is us-ascii)
  -separator character	 - separator used with -attach. Default is comma (,)
			               (if used must be specified before -attach)
  -enc-type type	     - encoding type. base64, 8bit, 7bit etc.
			               (default is base64. Special type is "none")
  -aname name		     - name of the attachment. Default is filename
  -content-id id	     - content-id in the attachment
  -mime-type type	     - MIME type
  -dispostion val	     - "attachment" or "inline". Default is "attachment"
  -attach file,mime_type,[i/a] (i=inline,a=attachment)
			            - attach this file as attachment or inline
  -show-attach		    - show attachment in verbose mode, default is no
  -show-mime-types	    - show the compiled in MIME types
  -M	"one line msg"	- attach this one line text message
  -content-type type	- Content type. Default: multipart/mixed
  -msg-body path	    - Path of the file to include as body of mail
  -embed-image image	- Path of image to embed in HTML
  -H	"header"	    - Add custom Header
  -name "Full Name"	    - add name in the From header
  -v			        - verbose mode
  -V			        - show version info
  -w			        - wait for a CR after sending the mail
  -rt  email_address	- add Reply-To header
  -rrr email_address	- request read receipts to this address
  -ssl			        - SMTP over SSL
  -starttls		        - use STARTTLS if the server supports it
  -auth 		        - try CRAM-MD5,LOGIN,PLAIN in that order
  -auth-cram-md5	    - use AUTH CRAM-MD5 authentication
  -auth-plain		    - use AUTH PLAIN authentication
  -auth-login		    - use AUTH LOGIN authentication
  -user username	    - username for ESMTP authentication
  -pass password	    - password for ESMTP authentication
  -example		        - show examples
  -ehlo 		        - force EHLO
  -info 		        - show SMTP server information
  -help 		        - shows this help
  -q			        - quiet
  
  
Logging
-------

Directory must exist, logs are appended if file already exists


STARTTLS + AUTHENTICATION
-------------------------

$ mailsend -t user@gmail.com -f user@gmail.com  
-starttls -port 587 -auth
-smtp smtp.gmail.com
-sub test +cc +bc -v  
-user you -pass "your_password"


SSL + AUTHENTICATION
--------------------

$ mailsend -t user@gmail.com -f user@gmail.com  
-ssl -port 465 -auth  
-smtp smtp.gmail.com  
-sub test +cc +bc -v  
-user you -pass "your_password"


One line messages
-----------------

$ mailsend -f user@example.com -smtp 10.100.30.1
-t user@example.com -sub "testing oneline messages"
-cs "us-ascii"
-enc-type "7bit"
-M "This is a test"
  
-cs "iso-8859-1"
-enc-type "8bit"
-M "Das Vetter ist schön!"
    
-cs "Big5"
-enc-type "base64"
-M "中文測試"


Attachments
-----------

Only requirement of -attach is the path of the file. All other 
attributes can be specified before -attach with appropriate flags. The 
flags must be specified correctly for each attachment, otherwise the one 
specified in previous attachment will be used. By default MIME type is 
guessed from filename extension, default encoding type base64 is used. 
By default, content disposition of all atachments are attachment, use 
-disposition "inline" to give hint to the mail reader to display it as 
mail body. 

$ mailsend -f user@example.com -smtp 10.100.30.1
-t user@example.com -sub "this is a test"
-attach "file.pdf" -attach "file.jpg"

$ mailsend -f user@example.com -smtp 10.100.30.1
-t user@example.com -sub test
-mime-type "text/plain"
-enc-type "7bit"
-cs "us-ascii"
-attach "file.txt"

-enc-type "8bit"
-cs "iso-8859-1"
-attach "deutsch.txt"

-mime-type "image/gif"
-enc-type "base64"
-aname "flower.gif"
-attach "/usr/file.gif"
  
-mime-type "image/jpeg"
-enc-type "base64"
-attach "file.jpeg"


To embed images in HTML one below another (without HTML file)
-------------------------------------------------------------

$ mailsend -sub "Embed 2 images in HTML, one below the other"
-from mailsend@gmail.com -to mailsend@gmail.com
-smtp smtp.gmail.com -port 587 -starttls -auth
-user mailsend.test@gmail.com -cs ISO-8859-1
-embed-image "test/blue.png"
-embed-image "test/green.png"

		
Inline attachment
-----------------

$ mailsend -f user@example.com -d example.com -smtp 10.100.30.1  
-t user@example.com -sub test -attach "nf.jpg,image/jpeg,i"  
-M "body line1: content disposition is inline"  
-M "body line2: this is line2 of the body"


Including a body
----------------

Only one file can be included as a body of the mail. If the file is not 
us-ascii, the SMTP server has to support it. If you include a binary 
file, result is undefined. 

$ mailsend -f user@gmail -t user@example.com -smtp smtp.gamil.com
-port 587 -starttls -auth -user user@gmail.com -pass secret
-cs "utf-8"
-mime-type "text/plain"
-msg-body "file.txt"
