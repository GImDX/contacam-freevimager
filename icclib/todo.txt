
Notes on changes needed for V4.1

--------------------------------------------
Spec name/version/file version relationship.
This is more complicated that it really should be:

Spec. Name		Spec. Version	File Version
----------      -------------   ------------
ICC.1:2003-09	4.1				4.1.0      <-- target icclib
ICC.1:2001-12	4.0				4.0.0
ICC.1:2001-04	(3.7?)			2.4.0
ICC.1A:1999-04	(3.6?)			2.3.0
ICC.1:1998-09	(3.5?)			2.2.0
(Version 3.4)	3.4				2.1.0 (a)	<-- current icclib
(Version 3.3)	3.3				2.1.0
(Version 3.2)	3.2				2.0.0 (b)
(Version 3.01)	3.01			2.0.0 (a)
(Version 3.0)	3.0				2.0.0

-----------------------------

Add usage of #def icVersionNumberV41 when "V4" flag is active.

Tags needed since V2.1

    icSigChromaticAdaptationTag         = 0x63686164L,  /* 'chad' V2.4+ */
    icSigChromaticityTag                = 0x6368726DL,  /* 'chrm' V2.3+ */ 
    icSigColorantOrderTag               = 0x636C726FL,  /* 'clro' V4.0+ */
    icSigColorantTableTag               = 0x636C7274L,  /* 'clrt' V4.0+ */
    icSigDeviceSettingsTag              = 0x64657673L,  /* 'devs' V2.2 - V4.0 */
    icSigOutputResponseTag              = 0x72657370L,  /* 'resp' V2.2+ */


Tag types needed since V2.1

    icSigDeviceSettingsType             = 0x64657673L,  /* 'devs' V2.2 - V4.0 */
    icSigLutAtoBType                    = 0x6d414220L,  /* 'mAB ' V4.0+ */
    icSigLutBtoAType                    = 0x6d424120L,  /* 'mBA ' V4.0+ */
    icSigMultiLocalizedUnicodeType      = 0x6D6C7563L,  /* 'mluc' V4.0+ */
    icSigParametricCurveType            = 0x70617261L,  /* 'para' V4.0+ */
    icSigResponseCurveSet16Type         = 0x72637332L,  /* 'rcs2' V2.2 - V4.0 */

Stuff to deal with:
-------------------

Add V4 flag in main icc struct, and some way of setting it before tags
are added.

Date & time being UTC.
	- add flag when setting ?
	- display both when dumping ?
	- have both in structure when reading ?

Check all padding is zero during writing

Implement MD5 generation on profile writing
(make compute method on in memory info ?)
Implement MD5 check method on read profile ?

Add check that tags are unique within a profile ?

Have some sort of table to embody valid tags and tag types within the two major
version numbers (2 & 4) ?

Check that non A2B0 and B2A0 intents are allowed for Input, Display & Colorspace
profiles ??

V4 mandates a chromatic adaptation tag for any profile that requires a white point
tag & not D50. Add to V4 check, & generate chromatic adaptation tag for V2 & V4
creation (method ?)

Check mono profile black and white interpretation.

Matrix/shaper in V4 has clipping requirements. Should these be honoured ??
Maybe make this optional ?

Colorant table tag needed in V4 for xCLR devices.
colorantTableTag requirement for xCLR device link profiles.

Check icclink set header rendering intents correctly for device links.

Configure conformance to run as V4.1 or V2.4 on writing, and accept V4.X or V2.X on
reading. Don't try and implement detailed minor version behaviour.

Implemenmt parametric curve type as extra icmCurveStyle(s), and use icmCurve object to
do the work.

Implement MultiLocalizedUnicodeType as overload of icmTextDescription, or new tagtype ??

Implement new tag types for: 
    icSigDeviceSettingsType             = 0x64657673L,  /* 'devs' V2.2 - V4.0 */
    icSigResponseCurveSet16Type         = 0x72637332L,  /* 'rcs2' V2.2 - V4.0 */

Implement icSigLutAtoBType and icSigLutBtoAType as overloads of icmLut ??
If so, add new icmLuAlgType types for AtoB and BtoA conversions.

